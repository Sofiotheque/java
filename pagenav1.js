function getParameterByName(b,a){if(!a){a=window.location.href}b=b.replace(/[\[\]]/g,"\\$&");var d=new RegExp("[?&]"+b+"(=([^&#]*)|&|#|$)","i"),c=d.exec(a);if(!c){return null}if(!c[2]){return""}return decodeURIComponent(c[2].replace(/\+/g," "))}$(function(){$(document).ajaxComplete(function(){$("a").each(function(){var a=$(this).attr("href"),d=$(this);if(a!==undefined){if(a.indexOf("/search/label")!=-1){if(a.indexOf("max-results")!=-1){var b=getParameterByName("max-results",a),c=a.replace("max-results="+b,"max-results="+perPage);d.attr("href",c)}else{if(a.indexOf("?")==-1){d.attr("href",a+"?max-results="+perPage)}else{d.attr("href",a+"&max-results="+perPage)}}}}})})});var urlactivepage=location.href;var home_page="/";if(typeof firstText=="undefined"){firstText="First"}if(typeof lastText=="undefined"){lastText="Last"}var noPage;var currentPage;var currentPageNo;var postLabel;pagecurrentg();function looppagecurrentg(e){var c="";pageNumber=parseInt(numPages/2);if(pageNumber==numPages-pageNumber){numPages=pageNumber*2+1}pageStart=currentPageNo-pageNumber;if(pageStart<1){pageStart=1}lastPageNo=parseInt(e/perPage)+1;if(lastPageNo-1==e/perPage){lastPageNo=lastPageNo-1}pageEnd=pageStart+numPages-1;if(pageEnd>lastPageNo){pageEnd=lastPageNo}c+="<span class='showpageOf'>Page "+currentPageNo+" of "+lastPageNo+"</span>";var d=parseInt(currentPageNo)-1;if(currentPageNo>1){if(currentPage=="page"){c+='<span class="showpage firstpage"><a href="'+home_page+'">'+firstText+"</a></span>"}else{c+='<span class="displaypageNum firstpage"><a href="/search/label/'+postLabel+"?&max-results="+perPage+'">'+firstText+"</a></span>"}}if(currentPageNo>2){if(currentPageNo==3){if(currentPage=="page"){c+='<span class="showpage"><a href="'+home_page+'">'+prevText+"</a></span>"}else{c+='<span class="displaypageNum"><a href="/search/label/'+postLabel+"?&max-results="+perPage+'">'+prevText+"</a></span>"}}else{if(currentPage=="page"){c+='<span class="displaypageNum"><a href="#" onclick="redirectpage('+d+');return false">'+prevText+"</a></span>"}else{c+='<span class="displaypageNum"><a href="#" onclick="redirectlabel('+d+');return false">'+prevText+"</a></span>"}}}if(pageStart>1){if(currentPage=="page"){c+='<span class="displaypageNum"><a href="'+home_page+'">1</a></span>'}else{c+='<span class="displaypageNum"><a href="/search/label/'+postLabel+"?&max-results="+perPage+'">1</a></span>'}}if(pageStart>2){c+=" ... "}for(var f=pageStart;f<=pageEnd;f++){if(currentPageNo==f){c+='<span class="pagecurrent">'+f+"</span>"}else{if(f==1){if(currentPage=="page"){c+='<span class="displaypageNum"><a href="'+home_page+'">1</a></span>'}else{c+='<span class="displaypageNum"><a href="/search/label/'+postLabel+"?&max-results="+perPage+'">1</a></span>'}}else{if(currentPage=="page"){c+='<span class="displaypageNum"><a href="#" onclick="redirectpage('+f+');return false">'+f+"</a></span>"}else{c+='<span class="displaypageNum"><a href="#" onclick="redirectlabel('+f+');return false">'+f+"</a></span>"}}}}if(pageEnd<lastPageNo-1){c+="..."}if(pageEnd<lastPageNo){if(currentPage=="page"){c+='<span class="displaypageNum"><a href="#" onclick="redirectpage('+lastPageNo+');return false">'+lastPageNo+"</a></span>"}else{c+='<span class="displaypageNum"><a href="#" onclick="redirectlabel('+lastPageNo+');return false">'+lastPageNo+"</a></span>"}}var a=parseInt(currentPageNo)+1;if(currentPageNo<(lastPageNo-1)){if(currentPage=="page"){c+='<span class="displaypageNum"><a href="#" onclick="redirectpage('+a+');return false">'+nextText+"</a></span>"}else{c+='<span class="displaypageNum"><a href="#" onclick="redirectlabel('+a+');return false">'+nextText+"</a></span>"}}if(currentPageNo<lastPageNo){if(currentPage=="page"){c+='<span class="displaypageNum lastpage"><a href="#" onclick="redirectpage('+lastPageNo+');return false">'+lastText+"</a></span>"}else{c+='<span class="displaypageNum lastpage"><a href="#" onclick="redirectlabel('+lastPageNo+');return false">'+lastText+"</a></span>"}}var b=document.getElementById("tl-num-page");if(b){b.innerHTML=c}}function totalcountdata(a){var c=a.feed;var b=parseInt(c.openSearch$totalResults.$t,10);looppagecurrentg(b)}function pagecurrentg(){var a=urlactivepage;if(a.indexOf("/search/label/")!=-1){if(a.indexOf("?updated-max")!=-1){postLabel=a.substring(a.indexOf("/search/label/")+14,a.indexOf("?updated-max"))}else{postLabel=document.body.getAttribute("data-label")}}if(a.indexOf("?q=")==-1&&a.indexOf(".html")==-1){if(a.indexOf("/search/label/")==-1){currentPage="page";if(urlactivepage.indexOf("#PageNo=")!=-1){currentPageNo=urlactivepage.substring(urlactivepage.indexOf("#PageNo=")+8,urlactivepage.length)}else{currentPageNo=1}document.write("<script src="+home_page+"feeds/posts/summary?max-results=1&alt=json-in-script&callback=totalcountdata><\/script>")}else{currentPage="label";if(a.indexOf("max-results=")==-1){perPage=20}if(urlactivepage.indexOf("#PageNo=")!=-1){currentPageNo=urlactivepage.substring(urlactivepage.indexOf("#PageNo=")+8,urlactivepage.length)}else{currentPageNo=1}document.write('<script src="'+home_page+"feeds/posts/summary/-/"+postLabel+'?alt=json-in-script&callback=totalcountdata&max-results=1"><\/script>')}}}function redirectpage(a){jsonstart=(a-1)*perPage;noPage=a;var b=document.getElementsByTagName("head")[0];var c=document.createElement("script");c.type="text/javascript";c.setAttribute("src",home_page+"feeds/posts/summary?start-index="+jsonstart+"&max-results=1&alt=json-in-script&callback=finddatepost");b.appendChild(c)}function redirectlabel(a){jsonstart=(a-1)*perPage;noPage=a;var b=document.getElementsByTagName("head")[0];var c=document.createElement("script");c.type="text/javascript";c.setAttribute("src",home_page+"feeds/posts/summary/-/"+postLabel+"?start-index="+jsonstart+"&max-results=1&alt=json-in-script&callback=finddatepost");b.appendChild(c)}function finddatepost(c){post=c.feed.entry[0];var a=post.published.$t.substring(0,19)+post.published.$t.substring(23,29);var d=encodeURIComponent(a);if(currentPage=="page"){var b="/search?updated-max="+d+"&max-results="+perPage+"#PageNo="+noPage}else{var b="/search/label/"+postLabel+"?updated-max="+d+"&max-results="+perPage+"#PageNo="+noPage}location.href=b};
